<html>
    <head>
        <title>Farmer Bank</title>
        <link rel="stylesheet" href="style.css">
        <script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js'></script>
        <script type="text/javascript" src="js/web3.js"></script>
        <script type="text/javascript" src="js/pre.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
    </head>
    <body>

        <div class="container">
            <h1 class="text-center">Farmer Bank</h1>
            <h6>Current Account: <span id="currentAccount"></span></h6>
            <div class="col-sm-12 text-center">
                <div id="receipt" class="alert alert-success hidden">

                </div>
                <div class="alert alert-danger hidden" id="errors">

                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3 well">
                        <h5 class="">Contract Balance: <span id="contractBalance">0</span> Ether</h2>
                        <button class="btn btn-sm" style="margin-bottom: 5px;" onclick="updateBalance()">Update Balance</button>
                        <h5>Account Balance: <span id="accountBalance">0</span> Ether</h5>
                </div>
                <div class="col-md-9 well">
                    <div class="input-group">
                            <label for="addMemberAddress">Add Members</label>
                            <input name="addMemberAddress" id="addMemberAddress" class="form-control" style="" type="text" placeholder="Enter beneficiary address"/>
                            <!-- <input type="text" class="form-control"> -->
                            <span class="input-group-btn">
                                 <button class="btn btn-primary" onclick="addMembers()" type="button" style="margin-bottom: -25px;">Add Members</button>
                            </span>
                    </div>
                    <br>
                    <div class="input-group">
                            <label for="removeMemberAddress">Remove Members</label>
                            <input name="removeMemberAddress" id="removeMemberAddress" class="form-control" style="" type="text" placeholder="Enter beneficiary address"/>
                            <!-- <input type="text" class="form-control"> -->
                            <span class="input-group-btn">
                                 <button class="btn btn-primary" onclick="removeMembers()" type="button" style="margin-bottom: -25px;">Remove Members</button>
                            </span>
                    </div>
                    <br>
                    <div class="input-group">
                            <label for="addModAddress">Add Mods</label>
                            <input name="addModAddress" id="addModAddress" class="form-control" style="" type="text" placeholder="Enter beneficiary address"/>
                            <!-- <input type="text" class="form-control"> -->
                            <span class="input-group-btn">
                                 <button class="btn btn-primary" onclick="addMods()" type="button" style="margin-bottom: -25px;">Add Mods</button>
                            </span>
                    </div>
                    <br>
                    <div class="input-group">
                            <label for="payLoansAmount">Add Funds or Pay Loans</label>
                            <input name="payLoansAmount" id="payLoansAmount" class="form-control" style="" type="text" placeholder="Enter amount in Wei"/>
                            <!-- <input type="text" class="form-control"> -->
                            <span class="input-group-btn">
                                 <button class="btn btn-primary" onclick="payLoan()" type="button" style="margin-bottom: -25px;">Pay</button>
                            </span>
                    </div>
                    <br>
                    <div class="input-group">
                            <label for="switchEtherbase">Switch Accounts</label>
                            <input name="switchEtherbase" id="switchEtherbase" class="form-control" style="" type="text" placeholder="Enter address"/>
                            <!-- <input type="text" class="form-control"> -->
                            <span class="input-group-btn">
                                 <button class="btn btn-primary" onclick="switchAccount()" type="button" style="margin-bottom: -25px;">Switch</button>
                            </span>
                    </div>
                    <br>
                    <div class="input-group">
                        <label for="requestLoanAmount">Request Loan</label>
                        <input name="requestLoanAmount" id="requestLoanAmount" class="form-control" style="" type="text" placeholder="Enter amount in Wei"/>
                        <!-- <input type="text" class="form-control"> -->
                        <span class="input-group-btn">
                             <button class="btn btn-primary" onclick="requestLoan()" type="button" style="margin-bottom: -25px;">Request Loan</button>
                        </span>
                    </div>

                    <!-- <button class="btn btn-primary" onclick="paynow()" type="button" style="margin-bottom: -25px;">Pay</button> -->
                </div>
        </div>

        <div class="fund">
            ₹{this.props.admin.poolMoney}
        </div>
        <div class="details" style={{textAlign:'center',marginBottom: '12px'}}>
            General Public Funds
        </div>
        <label class="service-label" htmlFor="panel_1">Request a Loan</label>
        <input type="checkbox" name="panel" id="panel_1" />
            <div class="collapsible loan">
                <form onSubmit={this.handleSubmit} action="">
                    <div>
                        <label htmlFor="load-desc">Loan Description</label>
                        <input type="text" id="load-desc" value={this.state.loanDescription} onChange={event=> this.setState({loanDescription:event.target.value})} required/>
                    </div>
                    <div>
                        <label htmlFor="loan-amt">Loan Amount (₹)</label>
                        <input type="number" id="loan-amt" value={this.state.amount} onChange={event=> this.setState({amount:event.target.value})} min="0" />
                    </div>
                    <button class="btn btn-effect" type="submit" >{this.state.buttonText}</button>
                </form>
            </div>
        <label class="service-label" htmlFor="panel_2">Add Members</label>
        <input type="checkbox" name="panel" id="panel_2" />
                <div class="collapsible">
                    <form onSubmit={this.handleSubmit} action="">
                        <div>
                            <label htmlFor="load-desc">Select from registered Member</label>
                            <select id="type" value={this.state.quantity} onChange={event=> this.setState({quantity:event.target.value})}>
                                <option value="0x627306090abab3a6e1400e9345bc60c78a8bef57">0x627306090abab3a6e1400e9345bc60c78a8bef57</option>
                                <option value="0xf17f52151ebef6c7334fad080c5704d77216b732">0xf17f52151ebef6c7334fad080c5704d77216b732</option>
                                <option value="0xc5fdf4076b8f3a5357c5e395ab970b5b54098fef">0xc5fdf4076b8f3a5357c5e395ab970b5b54098fef</option>
                                <option value="0x821aea9a577a9b44299b9c15c88cf3087f3b5544">0x821aea9a577a9b44299b9c15c88cf3087f3b5544</option>
                                <option value="0x0d1d4e623d10f9fba5db95830f7d3839406c6af2">0x0d1d4e623d10f9fba5db95830f7d3839406c6af2</option>
                                <option value="0x2932b7a2355d6fecc4b5c0b6bd44cc31df247a2e">0x2932b7a2355d6fecc4b5c0b6bd44cc31df247a2e</option>
                                <option value="0x2191ef87e392377ec08e7c08eb105ef5448eced5">0x2191ef87e392377ec08e7c08eb105ef5448eced5</option>
                                <option value="0x0f4f2ac550a1b4e2280d04c21cea7ebd822934b5">0x0f4f2ac550a1b4e2280d04c21cea7ebd822934b5</option>
                                <option value="0x6330a553fc93768f612722bb8c2ec78ac90b3bbc">0x6330a553fc93768f612722bb8c2ec78ac90b3bbc</option>
                                <option value="0x5aeda56215b167893e80b4fe645ba6d5bab767de">0x5aeda56215b167893e80b4fe645ba6d5bab767de</option>
                            </select>
                        </div>
                        <button class="btn btn-effect" type="submit" >Add</button>
                    </form>
                </div>
        <label class="service-label" htmlFor="panel_3">Remove Members</label>
        <input type="checkbox" name="panel" id="panel_3" />
                    <div class="collapsible">
                        <form onSubmit={this.handleSubmit} action="">
                            <div>
                                <label htmlFor="load-desc">Select from registered Member</label>
                                <select id="type" value={this.state.quantity} onChange={event=> this.setState({quantity:event.target.value})}>
                                    <option value="0x627306090abab3a6e1400e9345bc60c78a8bef57">0x627306090abab3a6e1400e9345bc60c78a8bef57</option>
                                    <option value="0xf17f52151ebef6c7334fad080c5704d77216b732">0xf17f52151ebef6c7334fad080c5704d77216b732</option>
                                    <option value="0xc5fdf4076b8f3a5357c5e395ab970b5b54098fef">0xc5fdf4076b8f3a5357c5e395ab970b5b54098fef</option>
                                    <option value="0x821aea9a577a9b44299b9c15c88cf3087f3b5544">0x821aea9a577a9b44299b9c15c88cf3087f3b5544</option>
                                    <option value="0x0d1d4e623d10f9fba5db95830f7d3839406c6af2">0x0d1d4e623d10f9fba5db95830f7d3839406c6af2</option>
                                    <option value="0x2932b7a2355d6fecc4b5c0b6bd44cc31df247a2e">0x2932b7a2355d6fecc4b5c0b6bd44cc31df247a2e</option>
                                    <option value="0x2191ef87e392377ec08e7c08eb105ef5448eced5">0x2191ef87e392377ec08e7c08eb105ef5448eced5</option>
                                    <option value="0x0f4f2ac550a1b4e2280d04c21cea7ebd822934b5">0x0f4f2ac550a1b4e2280d04c21cea7ebd822934b5</option>
                                    <option value="0x6330a553fc93768f612722bb8c2ec78ac90b3bbc">0x6330a553fc93768f612722bb8c2ec78ac90b3bbc</option>
                                    <option value="0x5aeda56215b167893e80b4fe645ba6d5bab767de">0x5aeda56215b167893e80b4fe645ba6d5bab767de</option>
                                </select>
                            </div>
                            <button class="btn btn-effect" type="submit" >Remove</button>
                        </form>
                    </div>
        <label class="service-label" htmlFor="panel_4">Add Funds or Pay Loans</label>
        <input type="checkbox" name="panel" id="panel_4" />
                   <div class="collapsible loan-pay">
                       <div>
                           <div class="details" style="text-align:center">
                               General Public Funds
                           </div>
                           <button class="btn-pool btn-effect" type="submit" onClick={this.payToPool} disabled={this.checkIfLoanPaid()}>{this.checkIfLoanPaid()?'Pay your loan to add to pool': 'Add to Pool'}</button>
                       </div>          
                   </div>
        <label class="service-label" htmlFor="panel_5">Add Moderators</label>
        <input type="checkbox" name="panel" id="panel_5" />
                    <div class="collapsible">
                        <form onSubmit={this.handleSubmit} action="">
                            <div>
                                <label htmlFor="load-desc">Select from registered Member</label>
                                <select id="type" value={this.state.quantity} onChange={event=> this.setState({quantity:event.target.value})}>
                                    <option value="0x627306090abab3a6e1400e9345bc60c78a8bef57">0x627306090abab3a6e1400e9345bc60c78a8bef57</option>
                                    <option value="0xf17f52151ebef6c7334fad080c5704d77216b732">0xf17f52151ebef6c7334fad080c5704d77216b732</option>
                                    <option value="0xc5fdf4076b8f3a5357c5e395ab970b5b54098fef">0xc5fdf4076b8f3a5357c5e395ab970b5b54098fef</option>
                                    <option value="0x821aea9a577a9b44299b9c15c88cf3087f3b5544">0x821aea9a577a9b44299b9c15c88cf3087f3b5544</option>
                                    <option value="0x0d1d4e623d10f9fba5db95830f7d3839406c6af2">0x0d1d4e623d10f9fba5db95830f7d3839406c6af2</option>
                                    <option value="0x2932b7a2355d6fecc4b5c0b6bd44cc31df247a2e">0x2932b7a2355d6fecc4b5c0b6bd44cc31df247a2e</option>
                                    <option value="0x2191ef87e392377ec08e7c08eb105ef5448eced5">0x2191ef87e392377ec08e7c08eb105ef5448eced5</option>
                                    <option value="0x0f4f2ac550a1b4e2280d04c21cea7ebd822934b5">0x0f4f2ac550a1b4e2280d04c21cea7ebd822934b5</option>
                                    <option value="0x6330a553fc93768f612722bb8c2ec78ac90b3bbc">0x6330a553fc93768f612722bb8c2ec78ac90b3bbc</option>
                                    <option value="0x5aeda56215b167893e80b4fe645ba6d5bab767de">0x5aeda56215b167893e80b4fe645ba6d5bab767de</option>
                                </select>
                            </div>
                            <button class="btn btn-effect" type="submit" >Add</button>
                        </form>
                    </div>

        <script>
                $(document).ready(function(){
                    document.getElementById("currentAccount").innerText = currentEtherbase;
                    // $(currentAccount).text = currentEtherbase;
                });

        </script>
    </body>
</html>